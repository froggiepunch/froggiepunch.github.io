<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <style>
      @font-face {
        font-family: 'CustomFont';
        src: url('./fonts/Web437_PhoenixEGA_8x14.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }
      body {
        background-color: #121212; /* Dark background */
        color: #ffffff; /* Light text */
        margin: 0; /* Remove body margin */
        font-family: 'CustomFont', sans-serif; /* Apply custom font */
        text-align: left; /* Align text to the left */
      }

      /* Ensure the canvas stays aligned to the left */
      #game-container {
        display: flex; /* Use flexbox to arrange elements */
        align-items: flex-start; /* Align items at the top */
        margin: 5px; /* Add some margin around the container */
      }

      canvas {
        cursor: none; /* Hide the mouse cursor */
        width: 640px; /* 640px * 1.5 */
        height: 480px; /* 480px * 1.5 */
        transform-origin: top left; /* Set the origin of the scaling */
      }

      /* Add margin below the game canvas for the bottom text */
      #bottom-text {
        margin-top: 20px;
        margin-left: 20px;
        margin-right: 20px;
        font-size: 14px;
        text-align: left; /* Align the bottom text to the left */
      }

      /* Left text element */
      #left-text {
          margin-right: 20px; /* Space between canvas and right text */
          
          /* Text Properties */
          font-size: 14px; /* Font size */
          text-align: left; /* Align text to the left */
          
          /* Box Model */
          padding: 10px; /* Padding inside the box */
          border: 2px solid #ffffff; /* White border */
          border-radius: 5px; /* Rounded corners (optional) */
          max-width: 300px; /* Set maximum width of the box */
          max-height: 400px; /* Set maximum height to allow scrolling */
          
          /* Background and Word Wrapping */
          background-color: rgba(29, 20, 41, 0.8); /* Semi-transparent background */
          word-wrap: break-word; /* Allow long words to break onto the next line */
          
          /* Overflow Properties */
          overflow-y: auto; /* Enable vertical scrolling */
      }
    </style>
  </head>
  <body>
    <div id="game-container">
      <div id="left-text">
        This game doesn't yet have a proper manual, so here's a handy dandy...<br>
        <br> 
        QUICK-START/REFERENCE GUIDE!<br>
        <br>
        INTRODUCTION TO RIBBIT-RL/FROGUE/THIS GAME<br>
        ----------<br>
        <br>
        This is, as its core, a game of exploration, adventure, and...frankly...violence. You control our noble hero, Frogue, as they traverse the world searching for treasure, and even more treasure. Along the way, Frogue will be attacked, by a great many things, and it falls on your shoulders, brave player, to guide our intrepid frog to glory, and try *really* hard not to die along the way.<br>
        <br>
        It would be generous to say that what you see before you is anything more than the backbone of something much more carefully crafted. A lot of systems are in place, a lot of systems aren't. This isn't yet what I'd call a 'game', but I think 'prototype' is fair. Bear that in mind! <br>
        <br>
        Please note that everything in this section is subject to change, especially controls, as game systems get more involved and more complex. If for some reason you're keeping up with development, check here often! The arrow keys will not scroll the page or this section, so feel free to scroll to wherver you need to reference it whenever you need without worrying about losing your place!<br>
        <br>
        STARTING OUT<br>
        ----------<br>
        <br>
        You'll start in an as-yet unnamed town. It's pretty empty for now, but imagine that at some point in the future some friendly (or, perhaps, not-so-friendly) NPCs will reside here to "guide" you. Who knows how useful the babble of local tavern regulars will be! To go about your first exploration, you'll find the exit on the far right side of the road.<br>
        <br>
        When you leave town you'll be greeted with randomly generated dungeons that are pretty hands-off in their generation. What I mean is, I have many different ways to generate maps, and I can layer them for some interesting results, but no care or thought has been put into this yet as the game has no real progression, and this can result in maps that are, in no way, fun to navigate. (Personally, I don't think it's fun to navigate a 100x100 maze...) I'm working on this, but for now, please keep your expecations low until I can put some thought into progression, and progressively complex dungeon generaton! ♥<br>
        <br>
        EXPLORATION<br>
        ----------<br>
        <br>
        You can walk around using the numpad ('<span style="color: #00ff62">42867913'</span>), Rogue ('<span style="color: #00ff62">hjklyubn</span>'), or the arrow ('<span style="color: #00ff62">←↓↑→</span>') keys. (Note: there is presently no way to move in inter-cardinals (ie. NE, SE, SW, NW) using the arrow keys, though I may add a modifier key to allow for this in the future.)<br>
        <br>
        You can use your mouse to highlight tiles in your field of view to get some information about their contents. (This will likely be moved to keyboard functions in the future.)<br>
        <br>
        ITEMS<br>
        ----------<br>
        <br>
        You can (<span style="color: #00ff62">g</span>)et/grab item from the ground, open (<span style="color: #00ff62">i</span>)nventory, climb down stairs (<span style="color: #00ff62">.</span>), (<span style="color: #00ff62">d</span>)rop items, (<span style="color: #00ff62">r</span>)emove equipment.<br><br>
        When targeting a scroll, you can use the mouse to select a tile. (This will be moved to the keyboard in a future update)<br><br>

      </div>
      <canvas id="canvas" width="640" height="480"></canvas>
    </div>
    
    <div id="bottom-text">
      Some day, a description of the game and perhaps other nonsense will be here. Like, maybe some day this will actually be a functioning webpage? <br><br><br>
      Known Issues: <br><br>
      <ul>
        <li>Monsters can get stuck on corners (probably due to pathing and/or losing LoS)</li>
        <li>The only way to cancel using a scroll is to click outside the target range; there should be a key press that allows you to cancel targeting</li>
        <li>Duplicate items don't stack where it makes sense that they should (potions, scrolls (scrolls may or may not be stackable in the future, haven't decided yet))</li>
        <li>There's no limit to inventory size, and this can lead to rendering issues, as well as displayed keys not actually doing anything</li>
        <li>Keys displayed in inventory that use a system requiring a modifier key (ie. shift + whatever) don't work</li>
        <li>No indication whatsoever that gear is equipped, or that you've removed it (or that it even can be removed)</li>
        <li>Game log doesn't clear/reset when quitting to main menu and starting a new game</li>
        <li>Some game log strings overlap other temporary UI elements</li>
      </ul>
    </div>

    <script src="./frogue-rl.js"></script>
    <script>
      window.addEventListener("load", async () => {
        await wasm_bindgen("./frogue-rl_bg.wasm");
      });
    
      // Prevent arrow keys from scrolling the page
      window.addEventListener("keydown", function(event) {
        if (["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].includes(event.key)) {
          event.preventDefault(); // Prevent default scrolling behavior
        }
      });

      // Prevent arrow key scrolling in the left text box
      const leftTextBox = document.getElementById("left-text");
        leftTextBox.addEventListener("keydown", (event) => {
            if (event.key === "ArrowUp" || event.key === "ArrowDown" || event.key === "ArrowLeft" || event.key === "ArrowRight") {
                event.preventDefault(); // Prevent default scrolling behavior
            }
        });
    </script>
  </body>
</html>
